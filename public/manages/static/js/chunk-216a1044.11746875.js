(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-216a1044"],{"5a8f":function(e,t,i){"use strict";i("6e23")},"6e23":function(e,t,i){},c0c3:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}));var o=i("b775"),n=i("56ba");function r(e){return Object(o["a"])({url:n["default"].prototype.$api.config.index,method:"post",params:e})}function s(e){return Object(o["a"])({url:n["default"].prototype.$api.config.update,method:"post",data:e})}function a(){return Object(o["a"])({url:n["default"].prototype.$api.config.getConfig,method:"post"})}},dd7b:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login",style:"background-image: url("+(e.siteConfig.site_back_image?e.siteConfig.site_back_image:e.backgroundImage)+")"},[i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[i("img",{staticStyle:{width:"80px",display:"block",margin:"0 auto"},attrs:{src:e.siteConfig.site_logo?e.siteConfig.site_logo:e.logo,alt:"logo"}}),i("h2",{staticClass:"title"},[e._v(e._s(e.siteConfig.site_title?e.siteConfig.site_title:"QuickAdmin"))]),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[i("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[i("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaOnOff?i("el-form-item",{attrs:{prop:"code"}},[i("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[i("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),i("div",{staticClass:"login-code"},[i("img",{staticClass:"login-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),i("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px",color:"#ffffff"},model:{value:e.loginForm.is_keeplogin,callback:function(t){e.$set(e.loginForm,"is_keeplogin",t)},expression:"loginForm.is_keeplogin"}},[e._v("记住密码")]),i("el-form-item",{staticStyle:{width:"100%"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?i("span",[e._v("登 录 中...")]):i("span",[e._v("登 录")])])],1)],1),i("div",{staticClass:"el-login-footer"},[i("span",[e._v(e._s(e.siteConfig.site_copyright||"Copyright © 2018-2021 QuickAdmin.icu All Rights Reserved."))]),i("br"),i("span",[i("a",{attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(e._s(e.siteConfig.site_beian))])])])],1)},n=[],r=(i("d22b"),i("7ded")),s=i("c0c3"),a=i("91e4"),l=i.n(a),c=i("1f41"),g=i.n(c),u="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD7d5+q0he3LZzAr+vql2zOgf/0\n/me2Pyi3oksjFV6+MMxbA95rIKt66QMA5TWwRyv7m+Cx1Xi1/HChjHtQmcZlgkNI\n4IjxbnJUl4kQXcpLMC0dbK9S1CRR1bmNdxpG0mgP3cThMxgd7UYMg80WfrEK29K0\niCVo7PU8cdaA/w6kXwIDAQAB",d="MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAPt3n6rSF7ctnMCv\n6+qXbM6B//T+Z7Y/KLeiSyMVXr4wzFsD3msgq3rpAwDlNbBHK/ub4LHVeLX8cKGM\ne1CZxmWCQ0jgiPFuclSXiRBdykswLR1sr1LUJFHVuY13GkbSaA/dxOEzGB3tRgyD\nzRZ+sQrb0rSIJWjs9Txx1oD/DqRfAgMBAAECgYACIyEjRYfYEbYsWRJrOwA8vRQc\n0/CzttO0w9dZo/vbJ/UErQK97FgowkQ5RLlxFxnDmK6PNF5DRbL7XINLyxLJk8K7\nR3U3zdqwpyuZ37oQfbpLZtTuUwLb5znAd6xoKwr/vuKMfNielNwTuX/nijZFvHTX\nn8nteVxU7Z5gr7BQyQJBAP9KYRuSiTCgJIIamwY19eHUyjqfXrVsGxI0NjMl1bM0\nDrgjSF/DqGQn22QnWvE3y5GbXY6M5sfEMfO8fiEXcnUCQQD8KoY+/S5MTSD7HgHU\nns3RblOY3Gf3kaV9XB4UNrKjfhkZi9MDiglO57Cg94YvV0KhvCDpQYWwiof8z9/o\nE3kDAkAnoqWnAT45hXOFm5ncAf613DK1nU63/hvJ3L9Ze5NNKlTqs9elvpvjSOjg\nCNguwUnixmtlGW0vML/MpsQyYRCNAkAeoafHFQg/uorMFlwQkO3dh/JdukBi4W1h\n6gO5Xt+aXqH76XFLl8QDsr9Q/mBtdcMhVHIHA6+Sv3E/c5z2Ww8zAkEA5uuYtPD+\n4wmFwy4BOrrl7yCMMem6uXFLLDlCDwP524gmAR5osoIIQQsHcr4JtC1FCkXqKJ56\nYxKK4use8I1haw==";function f(e){var t=new g.a;return t.setPublicKey(u),t.encrypt(e)}function p(e){var t=new g.a;return t.setPrivateKey(d),t.decrypt(e)}var m={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginForm:{username:"",password:"",is_keeplogin:!0,code:"",key:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},loading:!1,captchaOnOff:!0,redirect:void 0,logo:i("81a5"),backgroundImage:i("faa3"),siteConfig:{}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCode(),this.getCookie(),this.config()},methods:{getCode:function(){var e=this;Object(r["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.loginForm.key=t.data.verify_id,e.codeUrl=t.data.verify_src)}))},getCookie:function(){var e=l.a.get("username"),t=l.a.get("password"),i=l.a.get("is_keeplogin");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:p(t),is_keeplogin:void 0!==i&&Boolean(i)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.is_keeplogin?(l.a.set("username",e.loginForm.username,{expires:30}),l.a.set("password",f(e.loginForm.password),{expires:30}),l.a.set("is_keeplogin",e.loginForm.is_keeplogin,{expires:30})):(l.a.remove("username"),l.a.remove("password"),l.a.remove("is_keeplogin")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"}).catch((function(){}))})).catch((function(t){e.loading=!1,e.captchaOnOff&&e.getCode()})))}))},config:function(){var e=this;Object(s["a"])().then((function(t){e.siteConfig=t.data}))}}},h=m,k=(i("5a8f"),i("d23d")),v=Object(k["a"])(h,o,n,!1,null,null,null);t["default"]=v.exports},faa3:function(e,t,i){e.exports=i.p+"static/img/quick_admin_login_bg.ad4745cd.jpg"}}]);