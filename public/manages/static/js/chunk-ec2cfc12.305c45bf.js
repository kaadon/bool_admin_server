(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec2cfc12"],{7803:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register",style:"background-image: url("+(e.siteConfig.site_back_image?e.siteConfig.site_back_image:e.backgroundImage)+")"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("img",{staticStyle:{width:"80px",display:"block",margin:"0 auto"},attrs:{src:e.siteConfig.site_logo?e.siteConfig.site_logo:e.logo,alt:"logo"}}),r("h2",{staticClass:"title"},[e._v(e._s(e.siteConfig.site_title?e.siteConfig.site_title:"QuickAdmin"))]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaOnOff?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"register-code"},[r("img",{staticClass:"register-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("div",{staticStyle:{float:"right"}},[r("router-link",{staticClass:"link-type",attrs:{to:"/login"}},[e._v("使用已有账户登录")])],1)],1)],1),r("div",{staticClass:"el-register-footer"},[r("span",[e._v(e._s(e.siteConfig.site_copyright||"Copyright © 2018-2021 QuickAdmin.icu All Rights Reserved."))]),r("br"),r("span",[r("a",{attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v(e._s(e.siteConfig.site_beian))])])])],1)},s=[],o=(r("640b"),r("d22b"),r("e697"),r("4dab"),r("6adc"),r("5558"),r("f2e0"),r("9c14"),r("0782"),r("50ff"),r("eea9"),r("2e61"),r("3e79"),r("46c2"),r("23e4"),r("95c9"),r("c1bd"),r("627d"),r("1a7a"),r("0143"),r("f6c4"),r("e438"),r("dc131"),r("dbe6"),r("8891"),r("5cf8"),r("e51d"),r("3ba6"),r("dcd8"),r("6209"),r("8609"),r("3235"),r("37c2"),r("c219"),r("b941"),r("e41a"),r("5b2b"),r("5328"),r("6ad9"),r("7ded")),n=r("c0c3"),a=r("91e4"),c=r.n(a),l={name:"Register",data:function(){var e=this,t=function(t,r,i){e.registerForm.password!==r?i(new Error("两次输入的密码不一致")):i()};return{codeUrl:"",registerForm:{username:"",password:"",confirmPassword:"",code:"",key:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},loading:!1,captchaOnOff:!0,logo:r("81a5"),backgroundImage:r("faa3"),siteConfig:{}}},created:function(){this.getCode(),this.config()},methods:{getCode:function(){var e=this;Object(o["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.registerForm.key=c.a.get("key"),e.codeUrl="data:image/png;base64,"+btoa(new Uint8Array(t).reduce((function(e,t){return e+String.fromCharCode(t)}),"")))}))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(o["e"])(e.registerForm).then((function(t){var r=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+r+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0}).then((function(){e.$router.push("/login")})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaOnOff&&e.getCode()})))}))},config:function(){var e=this;Object(n["a"])().then((function(t){e.siteConfig=t.data}))}}},d=l,u=(r("edce"),r("d23d")),f=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=f.exports},c0c3:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a}));var i=r("b775"),s=r("56ba");function o(e){return Object(i["a"])({url:s["default"].prototype.$api.config.index,method:"post",params:e})}function n(e){return Object(i["a"])({url:s["default"].prototype.$api.config.update,method:"post",data:e})}function a(){return Object(i["a"])({url:s["default"].prototype.$api.config.getConfig,method:"post"})}},dfb7:function(e,t,r){},edce:function(e,t,r){"use strict";r("dfb7")},faa3:function(e,t,r){e.exports=r.p+"static/img/quick_admin_login_bg.ad4745cd.jpg"}}]);